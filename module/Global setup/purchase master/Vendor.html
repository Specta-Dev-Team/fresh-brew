<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Management | Fresh Brew</title>

    <!-- Google Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Fresh Brew Design System -->
    <link rel="stylesheet" href="../../../template/css/design-system.css">
    <link rel="stylesheet" href="../../../template/css/components.css">
</head>

<body>

    <div class="fb-wrapper">
        <div class="fb-glass-card">

            <!-- HEADER -->
            <div class="fb-header">
                <div class="fb-page-title">
                    <h1>Vendor</h1>
                </div>
                <div class="fb-header-actions">
                    <button class="fb-btn fb-btn-white" title="Search">
                        <span class="material-icons" style="font-size: 1rem;">search</span>
                    </button>
                    <button class="fb-btn fb-btn-white" title="List View">
                        <span class="material-icons" style="font-size: 1rem;">list</span>
                    </button>
                    <button class="fb-btn fb-btn-white" title="Grid View">
                        <span class="material-icons" style="font-size: 1rem;">grid_on</span>
                    </button>
                </div>
            </div>

            <!-- FORM SECTION -->
            <div class="fb-form-section">

                <!-- SECTION 1: Basic Information -->
                <div class="fb-section-title">
                    <span class="material-icons">business</span>
                    Basic Information
                </div>

                <div class="fb-grid-2">
                    <div class="fb-form-group">
                        <label class="required">Company</label>
                        <select id="company">
                            <option value="">-- Select --</option>
                            <option value="vintage">Vintage Teas Ceylon (Pvt) Ltd</option>
                        </select>
                    </div>
                    <div class="fb-form-group">
                        <label>Vendor Group</label>
                        <select id="vendorGroup">
                            <option value="">Select an option</option>
                        </select>
                    </div>
                </div>

                <div class="fb-grid-3">
                    <div class="fb-form-group">
                        <label>Vendor Code</label>
                        <input type="text" id="vendorCode" placeholder="Auto-generated">
                    </div>
                    <div class="fb-form-group">
                        <label class="required">Vendor Name</label>
                        <input type="text" id="vendorName" placeholder="Enter vendor name">
                    </div>
                    <div class="fb-form-group">
                        <label>Vendor Short Code</label>
                        <input type="text" id="vendorShortCode" placeholder="Short name">
                    </div>
                </div>

                <div class="fb-grid-4">
                    <div class="fb-form-group">
                        <label>SVAT No.</label>
                        <input type="text" id="svatNo">
                    </div>
                    <div class="fb-form-group">
                        <label>VAT No.</label>
                        <input type="text" id="vatNo">
                    </div>
                    <div class="fb-form-group">
                        <label>Supplier Grade</label>
                        <select id="supplierGrade">
                            <option value="">-- Select --</option>
                        </select>
                    </div>
                    <div class="fb-form-group">
                        <label>TIEP / Bond No</label>
                        <input type="text" id="tiepBondNo">
                    </div>
                </div>

                <div class="fb-grid-2">
                    <div class="fb-form-group">
                        <label>Appointed On</label>
                        <input type="date" id="appointedOn">
                    </div>
                    <div class="fb-form-group">
                        <label>Broker Code</label>
                        <select id="brokerCode">
                            <option value="">Select an option</option>
                        </select>
                    </div>
                </div>

                <!-- SECTION 2: Vendor Attributes -->
                <div class="fb-section-title">
                    <span class="material-icons">check_circle</span>
                    Vendor Attributes
                </div>

                <div class="fb-grid-4">
                    <!-- Attributes logic grouped for clean styling -->
                    <div class="fb-form-group">
                        <label>General Status</label>
                        <div class="toggle-label-container">
                            <label class="fb-toggle-switch">
                                <input type="checkbox" id="active" checked>
                                <span class="fb-toggle-slider"></span>
                            </label>
                            <span style="font-size: 0.85rem; color: var(--secondary);">Active</span>
                        </div>
                    </div>
                    <div class="fb-form-group">
                        <label>Purchase Types</label>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; padding-top: 0.5rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="teaPurchase">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Tea Purchase</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="importPurchase">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Import Purchase</span>
                            </div>
                        </div>
                    </div>
                    <div class="fb-form-group">
                        <label>Operation Types</label>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; padding-top: 0.5rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="localPurchase">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Local Purchase</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="subContract">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Sub Contract</span>
                            </div>
                        </div>
                    </div>
                    <div class="fb-form-group">
                        <label>Miscellaneous</label>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem; padding-top: 0.5rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="shippingCarrier">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Shipping Carrier</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <label class="fb-toggle-switch">
                                    <input type="checkbox" id="loan">
                                    <span class="fb-toggle-slider"></span>
                                </label>
                                <span style="font-size: 0.85rem; color: var(--secondary);">Loan Eligible</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- TABS -->
            <div class="fb-tabs">
                <button class="fb-tab active" onclick="activateTab(0)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">home</span>
                    Address
                </button>
                <button class="fb-tab" onclick="activateTab(1)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">account_balance</span>
                    Bank Info
                </button>
                <button class="fb-tab" onclick="activateTab(2)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">receipt</span>
                    Bill To Details
                </button>
                <button class="fb-tab" onclick="activateTab(3)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">person</span>
                    Payee
                </button>
                <button class="fb-tab" onclick="activateTab(4)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">description</span>
                    Terms
                </button>
                <button class="fb-tab" onclick="activateTab(5)">
                    <span class="material-icons" style="font-size: 1rem; margin-right: 0.4rem;">security</span>
                    Insurance
                </button>
            </div>

            <!-- TAB 1: ADDRESS -->
            <div id="tab0" class="fb-tab-content active">
                <div class="fb-table-container">
                    <table class="fb-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;"><input type="checkbox"></th>
                                <th style="width: 50px;">S.no</th>
                                <th>Address Type</th>
                                <th>Address 1</th>
                                <th>Address 2</th>
                                <th>Address 3</th>
                                <th>Country</th>
                                <th>City</th>
                                <th>Postal Code</th>
                                <th>Phone</th>
                                <th>Fax</th>
                                <th>Email</th>
                                <th>Web</th>
                            </tr>
                        </thead>
                        <tbody id="addressTableBody">
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>1</td>
                                <td><select>
                                        <option>-- Select --</option>
                                        <option>Primary</option>
                                        <option>Secondary</option>
                                    </select></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><select>
                                        <option>Select an option</option>
                                    </select></td>
                                <td><select>
                                        <option>Select an option</option>
                                    </select></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><input type="email"></td>
                                <td><input type="text"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addAddressRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Address
                    </button>
                </div>
            </div>

            <!-- TAB 2: BANK INFO -->
            <div id="tab1" class="fb-tab-content">
                <div class="fb-table-container">
                    <table class="fb-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;"><input type="checkbox"></th>
                                <th style="width: 50px;">S.no</th>
                                <th>A/c No.</th>
                                <th>Bank A/c Name</th>
                                <th>Bank Name</th>
                                <th>Branch Name</th>
                                <th>Branch Code</th>
                                <th>Swift Code</th>
                                <th>Country</th>
                                <th>City</th>
                                <th>Address</th>
                            </tr>
                        </thead>
                        <tbody id="bankTableBody">
                            <tr>
                                <td><input type="checkbox"></td>
                                <td>1</td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><select>
                                        <option>Select an option</option>
                                    </select></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><input type="text"></td>
                                <td><select>
                                        <option>Select an option</option>
                                    </select></td>
                                <td><select>
                                        <option>Select an option</option>
                                    </select></td>
                                <td><input type="text"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addBankRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Bank Info
                    </button>
                </div>
            </div>

            <!-- TAB 3: BILL TO DETAILS -->
            <div id="tab2" class="fb-tab-content">
                <div class="fb-table-container">
                    <table class="fb-table" style="min-width: 1500px;">
                        <thead>
                            <tr>
                                <th style="text-align: center; width: 40px;"><input type="checkbox" id="billCheckAll">
                                </th>
                                <th style="width: 60px;">S.No</th>
                                <th style="width: 300px;">Account Name</th>
                                <th style="width: 120px;">Currency</th>
                                <th style="width: 140px;">Bill To Site No</th>
                                <th style="width: 200px;">Bill To Site Name</th>
                                <th style="width: 150px;">Tax Code</th>
                                <th style="width: 180px;">Payment Terms</th>
                                <th>Shipment Terms</th>
                                <th>Credit Days</th>
                                <th>Credit Limit</th>
                            </tr>
                        </thead>
                        <tbody id="billToTableBody">
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addBillToRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Bill To Site
                    </button>
                </div>
            </div>

            <!-- TAB 4: PAYEE -->
            <div id="tab3" class="fb-tab-content">
                <div class="fb-table-container">
                    <table class="fb-table">
                        <thead>
                            <tr>
                                <th style="text-align: center; width: 40px;"><input type="checkbox" id="payeeCheckAll">
                                </th>
                                <th style="width: 60px;">S.No</th>
                                <th>Payee Name</th>
                            </tr>
                        </thead>
                        <tbody id="payeeTableBody">
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addPayeeRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Payee
                    </button>
                </div>
            </div>

            <!-- TAB 5: TERMS AND CONDITIONS -->
            <div id="tab4" class="fb-tab-content">
                <div class="fb-table-container">
                    <table class="fb-table">
                        <thead>
                            <tr>
                                <th style="text-align: center; width: 40px;"><input type="checkbox" id="termsCheckAll">
                                </th>
                                <th style="width: 60px;">S.No</th>
                                <th>Terms</th>
                            </tr>
                        </thead>
                        <tbody id="termsTableBody">
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addTermsRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Terms
                    </button>
                </div>
            </div>

            <!-- TAB 6: INSURANCE -->
            <div id="tab5" class="fb-tab-content">
                <div class="fb-table-container">
                    <table class="fb-table">
                        <thead>
                            <tr>
                                <th style="text-align: center; width: 40px;"><input type="checkbox"
                                        id="insuranceCheckAll"></th>
                                <th style="width: 60px;">S.No</th>
                                <th>Insurance Company</th>
                            </tr>
                        </thead>
                        <tbody id="insuranceTableBody">
                        </tbody>
                    </table>
                </div>
                <div
                    style="background: var(--bg-body); padding: 0.75rem 1rem; border-top: 1px solid var(--border-light); border-radius: 0 0 10px 10px;">
                    <button class="fb-btn fb-btn-white fb-btn-sm" onclick="addInsuranceRow()">
                        <span class="material-icons" style="font-size: 16px;">add</span> New Insurance
                    </button>
                </div>
            </div>

            <!-- FOOTER -->
            <div class="fb-footer">
                <button class="fb-btn fb-btn-secondary" onclick="handleNew()">
                    <span class="material-icons">add</span>
                    New
                </button>
                <button class="fb-btn fb-btn-primary" onclick="handleSubmit()">
                    <span class="material-icons">check</span>
                    Submit
                </button>
            </div>

        </div>
    </div>

    <script>
        function activateTab(tabIndex) {
            document.querySelectorAll('.fb-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.fb-tab').forEach(btn => {
                btn.classList.remove('active');
            });

            document.getElementById(`tab${tabIndex}`).classList.add('active');
            document.querySelectorAll('.fb-tab')[tabIndex].classList.add('active');
        }

        function handleNew() {
            // Reset fields
            document.getElementById('company').value = '';
            document.getElementById('vendorGroup').value = '';
            document.getElementById('vendorCode').value = '';
            document.getElementById('vendorName').value = '';
            document.getElementById('vendorShortCode').value = '';
            document.getElementById('svatNo').value = '';
            document.getElementById('vatNo').value = '';
            document.getElementById('supplierGrade').value = '';
            document.getElementById('tiepBondNo').value = '';
            document.getElementById('appointedOn').value = '';
            document.getElementById('brokerCode').value = '';

            // Reset toggles
            document.getElementById('active').checked = true;
            document.getElementById('teaPurchase').checked = false;
            document.getElementById('importPurchase').checked = false;
            document.getElementById('localPurchase').checked = false;
            document.getElementById('subContract').checked = false;
            document.getElementById('shippingCarrier').checked = false;
            document.getElementById('loan').checked = false;

            // Clear errors
            document.querySelectorAll('input, select').forEach(el => el.classList.remove('fb-input-error'));

            console.log('New vendor record initialized');
            document.getElementById('company').focus();
        }

        function handleSubmit() {
            const company = document.getElementById('company');
            const vendorName = document.getElementById('vendorName');

            let isValid = true;
            if (!company.value) { company.classList.add('fb-input-error'); isValid = false; }
            else { company.classList.remove('fb-input-error'); }

            if (!vendorName.value.trim()) { vendorName.classList.add('fb-input-error'); isValid = false; }
            else { vendorName.classList.remove('fb-input-error'); }

            if (!isValid) {
                alert('Please fill in all required fields marked in red.');
                return;
            }

            console.log('Vendor form submitted', {
                company: company.value,
                vendorName: vendorName.value
            });

            alert('Vendor record saved successfully!');
        }

        // GRID ROW ADDITION HELPERS
        function createCommonRow(tbodyId, columnsHtml) {
            const tbody = document.getElementById(tbodyId);
            const newRow = tbody.insertRow();
            const rowNum = tbody.rows.length;
            newRow.innerHTML = `<td><input type="checkbox"></td><td>${rowNum}</td>` + columnsHtml;
        }

        function addAddressRow() {
            createCommonRow('addressTableBody', `
                <td><select><option>-- Select --</option><option>Primary</option><option>Secondary</option></select></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><select><option>Select option</option></select></td>
                <td><select><option>Select option</option></select></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><input type="email"></td>
                <td><input type="text"></td>
            `);
        }

        function addBankRow() {
            createCommonRow('bankTableBody', `
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><select><option>Select bank</option></select></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><select><option>Select country</option></select></td>
                <td><select><option>Select city</option></select></td>
                <td><input type="text"></td>
            `);
        }

        function addBillToRow() {
            createCommonRow('billToTableBody', `
                <td><select><option>Select account</option></select></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><input type="text"></td>
                <td><select><option>Select tax</option></select></td>
                <td><select><option>Select terms</option></select></td>
                <td><select><option>Select shipment</option></select></td>
                <td><input type="number" value="0"></td>
                <td><input type="number" value="0.00"></td>
            `);
        }

        function addPayeeRow() {
            createCommonRow('payeeTableBody', `<td><input type="text" placeholder="Payee name"></td>`);
        }

        function addTermsRow() {
            createCommonRow('termsTableBody', `<td><textarea style="width: 100%; border:none; background:transparent; font-family:inherit; font-size:0.9rem;" placeholder="Enter term details..."></textarea></td>`);
        }

        function addInsuranceRow() {
            createCommonRow('insuranceTableBody', `<td><input type="text" placeholder="Company name"></td>`);
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', function () {
            console.log('Vendor Management page loaded');
            // Add a few dummy rows for demonstration if needed
            addBillToRow();
        });
    </script>
</body>

</html>